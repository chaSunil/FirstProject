<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="bid">

	<select id="bid_list" resultType="bid">
		select * from bid_list_view
	</select>
	
	
	
	<insert id="bid_insert" parameterType="vo.BidVo">
		insert into bid values(
									seq_bid_idx.nextVal,
									#{ b_bid_price },									
									sysdate,
									'y',
									#{ item_idx },
									2,
									'일길동'
								   )	
	</insert>
	
		<!-- 직접입력 방식 bidding_point 업데이트 -->
    <update id="bidding_point" parameterType="int">
        update bid
        set b_bid_price = b_bid_price + #{ bidding_point }
        <!-- where mem_id = #{ mem_id } -->
    </update>
    
    
    
    
    <insert id="auction_insert" parameterType="Map">
    	insert into bid values(
					seq_bid_idx.nextVal,
					#{ a_initial_price },
					sysdate,
					'y',
					#{ item_idx },
					null
					)
    </insert>
    
    
    	
	<!-- 직접입력 방식 bidding_point 업데이트 -->
    <update id="update_auction_member" parameterType="Map">
        update bid
        set gumae_mem_idx = #{ gumae_mem_idx },
        b_bid_price = #{ bidding_point }
        where item_idx = #{ item_idx }
    </update>
	
	

</mapper>












